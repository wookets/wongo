//@ sourceMappingURL=timestamp.map
// Generated by CoffeeScript 1.6.1
(function() {

  module.exports = function(schema, options) {
    if (options == null) {
      options = {};
    }
    schema.fields.createdOn = {
      type: Date,
      required: true
    };
    schema.fields.modifiedOn = {
      type: Date,
      required: true
    };
    return schema.middleware.beforeValidate.push(function(document, schema, callback) {
      var _ref;
      if ((_ref = document.createdOn) == null) {
        document.createdOn = new Date();
      }
      document.modifiedOn = new Date();
      return callback();
    });
  };

}).call(this);
